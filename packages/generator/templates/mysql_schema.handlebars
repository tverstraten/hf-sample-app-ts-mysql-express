{{#each this.tables}}
CREATE TABLE `{{this.schemaName}}`.`{{this.name}}` (    
{{#each this.columns}}
	`{{this.name}}` {{#if this.inDomain}}ENUM({{#each this.inDomain.values}}'{{this.value}}'{{#unless @last}},{{/unless}}{{/each}}){{else}}{{this.ansiTypeDeclaration}}{{/if}} {{#if this.valueType.isOptional}}NULL{{else}}NOT NULL{{/if}}{{#if this.columnDefault}} DEFAULT {{replace this.columnDefault "'" '"'}}{{/if}}{{#if this.description}} COMMENT '{{replace this.description "'" '"'}}'{{/if}},
{{/each}}
	PRIMARY KEY (`{{this.primaryKey.name}}`)
{{#each this.foreignKeys}}
	, CONSTRAINT `{{this.name}}` FOREIGN KEY (`{{this.sourceColumnName}}`) REFERENCES `{{this.targetSchemaName}}`.`{{this.targetTableName}}` (`id`)
{{/each}}
)
{{#if this.description}}COMMENT='{{replace this.description "'" '"'}}', {{/if}}ENGINE=InnoDB;

{{/each}}

{{#each relationalStorage.views}}

CREATE VIEW `{{this.schemaName}}`.`{{this.name}}` AS    
	{{SafeString this.queryText}}
{{#if this.description}}COMMENT='{{this.description}}', {{/if}};

{{/each}}