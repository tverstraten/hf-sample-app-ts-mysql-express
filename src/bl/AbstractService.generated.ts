import { AbstractDa } from '../da/AbstractDa.generated'
import { FindResults } from '../da/FindResults.generated'
import { Traceable } from '../model/Traceable'

/**
 * NOTE: This file is generated, do not make changes to it.
 */
export abstract class AbstractService<T extends Traceable> {
	typedDa: AbstractDa<T>

	constructor(da: AbstractDa<T>) {
		this.typedDa = da
	}
	
	async findBy(where: string, params: any[] = [], orderBy?: string, page = 1, pageSize = 20): Promise<FindResults<T>> {
		try {
			return this.typedDa.findBy(where, params, orderBy, page, pageSize)
		} catch (problem) {
			console.log(`findBy(${where}) failed problem ${problem}`)
			throw problem
		}
	}

	async findOneById(id: number): Promise<T | null> {
		try {
			return this.typedDa.findOneById(id)
		} catch (problem) {
			console.log(`findOneById(${id}) failed problem ${problem}`)
			throw problem
		}
	}

	async create(newItem: T): Promise<boolean> {
		try {
			return this.typedDa.create(newItem)
		} catch (problem) {
			console.log(`create(${JSON.stringify(newItem)}) failed problem ${problem}`)
			throw problem
		}
	}

	async createAndReturn(newItem: T): Promise<T> {
		try {
			return this.typedDa.createAndReturn(newItem)
		} catch (problem) {
			console.log(`createAndReturn(${JSON.stringify(newItem)}) failed problem ${problem}`)
			throw problem
		}
	}

	async update(itemUpdate: T): Promise<boolean> {
		try {
			return this.typedDa.update(itemUpdate)
		} catch (problem) {
			console.log(`update(${JSON.stringify(itemUpdate)}) failed problem ${problem}`)
			throw problem
		}
	}

	async updateAndReturn(itemUpdate: T): Promise<T | null> {
		try {
			return this.typedDa.updateAndReturn(itemUpdate)
		} catch (problem) {
			console.log(`updateAndReturn(${JSON.stringify(itemUpdate)}) failed problem ${problem}`)
			throw problem
		}
	}

	async remove(id: number): Promise<boolean> {
		try {
			return this.typedDa.remove(id)
		} catch (problem) {
			console.log(`Remove(${id}) failed problem ${problem}`)
			throw problem
		}
	}
}
